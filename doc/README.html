<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="custom.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="syntax_highlight.css" type="text/css" charset="utf-8" />

    <title>README</title>
  </head>
  <body>
    <div id="content">
      <div class="section docstring readme">
        <hr size="10"></hr><p>
Aleatoric README Mark Weiss v 0.6.0 last updated: 8/16/2008
</p>
<hr size="10"></hr><hr size="10"></hr><p>
Introduction
</p>
<hr size="10"></hr><p>
Aleatoric is a library for composing aleatoric and electronic music.
Composers use Aleatoric&#8217;s Composer language, a very simple and
focused language for specifying musical notes, organizing notes into
groups, and creating additional written directives for
&quot;performers&quot; of the score to follow. Composer is a
domain-specific-language, or DSL, which really just means that writing the
language requires only what is needed for the task of creating traditional
or aleatoric compositions (which typically define both musical events and
additional written performance instructions).
</p>
<p>
Composer provides a complete separation between the commands that define
musical events and additional performance instructions, and the code that
ends up generating the resulting sound file that represents a
&quot;performance&quot; of the composition. In particular, the language
borrows an idea from the world of software testing (a prime inspiration is
here, http://github.com/aslakhellesoy/cucumber/tree/master) to allow the
&quot;domain expert,&quot; who in this case is the musically inclined
composer, to simply describe performance directions in sentences.
Meanwhile, the program that actually implements the actions described is
hidden from the composer, visible only to the programmer responsible for
writing it. Of course, in some cases, one person fills the role of both
composer and programmer, but that emphatically need not be the case.
</p>
<p>
To summarize, these are the two most important goals of Composer: to
present a minimally simple, easy and intuitive language for creating
musical scores, and to allow complete separation between a composer&#8217;s
aleatoric directives and the code required to make them real.
</p>
<p>
Beyond these specific goals, Aleatoric suggests something more powerful:
that we can have computer languages for specifying artistic events (notes
in a score) and arbitrary aesthetic guidelines (performance directions like
&quot;play louder if the moon is full&quot;) in a software system that
produces art.
</p>
<hr size="10"></hr><p>
A Simple Example
</p>
<hr size="10"></hr><p>
Here is a simple example of a Composer score:
</p>
<pre class="code">
  <span class='phrase identifier id'>phrase</span> <span class='string val'>&quot;Intro Phrase&quot;</span>
    <span class='note identifier id'>note</span> <span class='string val'>&quot;1&quot;</span>
      <span class='instrument identifier id'>instrument</span>  <span class='integer val'>1</span>
      <span class='start identifier id'>start</span>       <span class='integer val'>0</span><span class='integer val'>.0</span>
      <span class='duration identifier id'>duration</span>    <span class='integer val'>0</span><span class='integer val'>.5</span>
      <span class='amplitude identifier id'>amplitude</span>   <span class='integer val'>1000</span>
      <span class='pitch identifier id'>pitch</span>       <span class='float val'>7.01</span>
    <span class='note identifier id'>note</span> <span class='string val'>&quot;2&quot;</span>
      <span class='instrument identifier id'>instrument</span>  <span class='integer val'>1</span>
      <span class='start identifier id'>start</span>       <span class='float val'>1.0</span>
      <span class='duration identifier id'>duration</span>    <span class='float val'>1.0</span>
      <span class='amplitude identifier id'>amplitude</span>   <span class='integer val'>1100</span>
      <span class='pitch identifier id'>pitch</span>       <span class='float val'>7.02</span>

  <span class='render identifier id'>render</span> <span class='string val'>&quot;my_composition.wav&quot;</span>
    <span class='phrases identifier id'>phrases</span>   <span class='string val'>&quot;Intro Phrase&quot;</span>
    <span class='format identifier id'>format</span>    <span class='csound identifier id'>csound</span>
    <span class='orchestra identifier id'>orchestra</span>  <span class='string val'>&quot;my_csound_orchestra.orc&quot;</span>
</pre>
<p>
This score defines two notes as part of a phrase &quot;Intro Phrase,&quot;
then renders them to an audio file. The note properties and rendering are
done using the cross-platform electronic music composition software CSound.
(MIDI support in Aleatoric is on the road map for the next release of the
library.)
</p>
<p>
Note the consistent and simple syntax of the language. Indentation is
optional, but should be used to show structure. Here we see that each
&#8216;note&#8217; is part of the &#8216;phrase,&#8217; and each line
indented under each note defines an attribute of the note.
</p>
<p>
All statements occupy their own single line. They start with either a noun
like &#8216;phrase&#8217; or a verb like &#8216;render&#8217; at the start
of the line, and then one or more values that further describe that noun or
verb. So &#8216;phrase&#8217; is followed by its name &quot;Intro
Phrase,&quot; and &#8216;amplitude&#8217; (how loud the note is) is
followed by a number that sets the value for that attribute of the note.
</p>
<p>
You only need to be aware of two elements of punctuation: double quotes
around the names you give things, such as &quot;Intro Phrase,&quot; and
commas separating each value in a list if there is more than one value. For
example:
</p>
<pre class="code">
  <span class='render identifier id'>render</span> <span class='string val'>&quot;my_composition.wav&quot;</span>
    <span class='phrases identifier id'>phrases</span>   <span class='string val'>&quot;Intro Phrase&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;Movement One&quot;</span>
</pre>
<p>
For a complete overview of the Composer language, for both composers and
programmers, see the language documentation and examples here:
http://wiki.github.com/marksweiss/aleatoric
</p>
<hr size="10"></hr><p>
Musical Score Concepts
</p>
<hr size="10"></hr><p>
The fundamental unit you define in a Composer score is the
&#8216;note.&#8217; Notes have various attributes defined in the block
below the note depending on whether the format being used for the output is
CSound or MIDI. In the current examples here and in the full documentation,
note properties are those required to define a note in a CSound score
&#8212; instrument, amplitude, start time, duration and pitch. A MIDI score
would have slightly different note attributes and specify
&#8216;midi&#8217; as the value for &#8216;format,&#8217; but would
otherwise be identical.
</p>
<p>
Composer provides several elements for grouping notes together. A
&#8216;phrase&#8217; is simply a named group of notes. So, if you want to
define 50 notes, and then render those 50 notes, you put them in a phrase
and then use the phrase name in the &#8216;phrases&#8217; list provided to
the &#8216;render&#8217; command:
</p>
<pre class="code">
  <span class='render identifier id'>render</span> <span class='string val'>&quot;my_composition.wav&quot;</span>
    <span class='phrases identifier id'>phrases</span>   <span class='string val'>&quot;Intro Phrase&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;Movement One&quot;</span>
</pre>
<p>
Here &quot;Intro Phrase&quot; and &quot;Movement One&quot; could each have
had any number of notes that you wouldn&#8217;t want to list by name to
include in the resulting sound file.
</p>
<p>
A &#8216;section&#8217; in turn includes one or more &#8216;phrase&#8217;
blocks, again with the goal of providing grouping for convenience. You can
similarly refer to sections by name in a &#8216;sections&#8217; statement
and that section will include all phrases within its original
&#8216;section&#8217; and all the notes in all of those phrases.
</p>
<p>
Another way to group notes is in a &#8216;measure,&#8217; which is
analogous to a measure in a musical score. Composer supports a concept of
&#8216;meter&#8217; in measures, with meters specifying beats per measure
and the duration of each beat. Notes can be quantized, or forced align with
the meter.
</p>
<p>
The only other concept you need to understand to use Composer as a tool for
defining musical scores is the &#8216;render&#8217; command, which names
the file that is the result of transforming the score into either a CSound-
or MIDI-produced sound file. You must include the name of the file you want
to produce and a &#8216;format&#8217; attribute specifying CSound or MIDI
output.
</p>
<p>
In order to have any notes actually appear, you also need to give render
one or more &#8216;notes&#8217; or &#8216;phrases&#8217; or
&#8216;sections&#8217; attributes, each of which has one or more values in
a list of names of previously defined &#8216;note&#8217; or
&#8216;phrase&#8217; or &#8216;section&#8217; blocks. For example:
</p>
<pre class="code">
  <span class='phrase identifier id'>phrase</span> <span class='string val'>&quot;Intro Phrase&quot;</span>
    <span class='note identifier id'>note</span> <span class='string val'>&quot;1&quot;</span>
      <span class='instrument identifier id'>instrument</span>  <span class='integer val'>1</span>
      <span class='start identifier id'>start</span>       <span class='integer val'>0</span><span class='integer val'>.0</span>
      <span class='duration identifier id'>duration</span>    <span class='integer val'>0</span><span class='integer val'>.5</span>
      <span class='amplitude identifier id'>amplitude</span>   <span class='integer val'>1000</span>
      <span class='pitch identifier id'>pitch</span>       <span class='float val'>7.01</span>
    <span class='note identifier id'>note</span> <span class='string val'>&quot;2&quot;</span>
      <span class='instrument identifier id'>instrument</span>  <span class='integer val'>1</span>
      <span class='start identifier id'>start</span>       <span class='float val'>1.0</span>
      <span class='duration identifier id'>duration</span>    <span class='float val'>1.0</span>
      <span class='amplitude identifier id'>amplitude</span>   <span class='integer val'>1100</span>
      <span class='pitch identifier id'>pitch</span>       <span class='float val'>7.02</span>

  <span class='render identifier id'>render</span> <span class='string val'>&quot;my_composition.wav&quot;</span>
    <span class='phrases identifier id'>phrases</span>   <span class='string val'>&quot;Intro Phrase&quot;</span>
    <span class='format identifier id'>format</span>    <span class='csound identifier id'>csound</span>
</pre>
<p>
(Note this pattern, which is used consistently for all major score elements
&#8212; the singular form (such as &#8216;phrase&#8217;) defines the score
element, and the plural form (such as &#8216;phrases&#8217;) refers to a
list of one or more of the elements previously defined.)
</p>
<hr size="10"></hr><p>
Performance Score Concepts
</p>
<hr size="10"></hr><p>
As the previous section shows, you can use Composer simply to describe
musical events in a score and turn that description into an actual musical
file that plays on your computer. But the language also supports aleatoric
features.
</p>
<p>
First, beyond the statements for defining musical events directly, there
are statements supporting the notions of players who play a score, and
players in an ensemble playing a score together.
</p>
<p>
A &#8216;player&#8217; is assigned a name when defined (again, so that
later &#8216;players&#8217; commands can refer to that player) and also
assigned notes in either &#8216;section&#8217; or &#8216;phrase&#8217; or
&#8216;note&#8217; blocks below the player. Players are then instructed in
the score to &#8216;play&#8217; and the results of this performance are
rendered into the final result:
</p>
<pre class="code">
  <span class='player identifier id'>player</span> <span class='string val'>&quot;Player 1&quot;</span>
    <span class='phrase identifier id'>phrase</span> <span class='string val'>&quot;Phrase 1&quot;</span>
      <span class='note identifier id'>note</span> <span class='string val'>&quot;1&quot;</span>
        <span class='instrument identifier id'>instrument</span>  <span class='integer val'>1</span>
        <span class='start identifier id'>start</span>       <span class='float val'>1.0</span>
        <span class='duration identifier id'>duration</span>    <span class='integer val'>0</span><span class='integer val'>.5</span>
        <span class='amplitude identifier id'>amplitude</span>   <span class='integer val'>1000</span>
        <span class='pitch identifier id'>pitch</span>       <span class='float val'>7.01</span>
      <span class='note identifier id'>note</span> <span class='string val'>&quot;2&quot;</span>
        <span class='instrument identifier id'>instrument</span>  <span class='integer val'>2</span>
        <span class='start identifier id'>start</span>       <span class='float val'>2.0</span>
        <span class='duration identifier id'>duration</span>    <span class='float val'>1.0</span>
        <span class='amplitude identifier id'>amplitude</span>   <span class='integer val'>1100</span>
        <span class='pitch identifier id'>pitch</span>       <span class='float val'>7.02</span>

  <span class='play identifier id'>play</span>
    <span class='players identifier id'>players</span> <span class='string val'>&quot;Player 1&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;Player 2&quot;</span>

  <span class='render identifier id'>render</span> <span class='string val'>&quot;my_composition.wav&quot;</span>
    <span class='players identifier id'>players</span> <span class='string val'>&quot;Player 1&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;Player 2&quot;</span>
    <span class='format identifier id'>format</span>    <span class='csound identifier id'>csound</span>
</pre>
<p>
In this simplest form, the result is no different then if the notes had
simply been defined directly. But, crucially, Composer also supports
arbitrary directions that the composer intends players to follow. These are
defined using the &#8216;instruction&#8217; statement:
</p>
<pre class="code">
  <span class='instruction identifier id'>instruction</span> <span class='string val'>&quot;Fortissimo&quot;</span>
    <span class='description identifier id'>description</span> <span class='string val'>&quot;Player should play each note twice as loud as the notated volume of the note.&quot;</span>
    <span class='players identifier id'>players</span>     <span class='string val'>&quot;Player 1&quot;</span>
</pre>
<p>
An instruction is named, and has a &#8216;description&#8217; which is just
one or more sentences that describe the composer&#8217;s intentions. So, in
this way an instruction can fulfill any aleatoric compositional goal.
Fulfilling the second goal of the language stated above, a Composer score
simply includes the description while the code that enacts the instruction
is written by a programmer and placed in a different file. The composer
never has to see or think about that code &#8212; they just write their
instruction in their score. It is up to the composer to listen to the
resulting performance by the program and decide whether, for example, the
code for &quot;Fortissimo&quot; is modifying the performance as intended.
If not, the score need not change, but the code for the instruction must be
modified and the performance is rendered again for further review.
Aleatoric provides a standard way for programmers to implement instructions
and include them in the final performance.
</p>
<p>
If players have been assigned an instruction, then the instruction affects
their performance when they play. For example, here &quot;Player 1&quot;
will play &quot;Fortissimo&quot; but &quot;Player 2&quot; will not.
</p>
<pre class="code">
  <span class='instruction identifier id'>instruction</span> <span class='string val'>&quot;Fortissimo&quot;</span>
    <span class='description identifier id'>description</span> <span class='string val'>&quot;Player should play each note twice as loud as the notated volume of the note.&quot;</span>
    <span class='players identifier id'>players</span>     <span class='string val'>&quot;Player 1&quot;</span>

  <span class='play identifier id'>play</span>
    <span class='players identifier id'>players</span> <span class='string val'>&quot;Player 1&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;Player 2&quot;</span>
</pre>
<p>
Players can also be organized into ensembles using the
&#8216;ensemble&#8217; statement. Like &#8216;phrases&#8217; and
&#8216;sections&#8217; that group notes, &#8216;ensemble&#8217; groups one
or more players that can be referenced by the name of the ensemble. As you
might expect, if an ensemble is named in an &#8216;ensembles&#8217; list in
a &#8216;play&#8217; block, then all players in that ensemble will play:
</p>
<pre class="code">
  <span class='ensemble identifier id'>ensemble</span> <span class='string val'>&quot;Ensemble 100&quot;</span>
    <span class='players identifier id'>players</span> <span class='string val'>&quot;Player 1&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;Player 2&quot;</span>

    <span class='phrase identifier id'>phrase</span> <span class='string val'>&quot;Phrase 1&quot;</span>
      <span class='note identifier id'>note</span> <span class='string val'>&quot;1&quot;</span>
        <span class='instrument identifier id'>instrument</span>  <span class='integer val'>1</span>
        <span class='start identifier id'>start</span>       <span class='float val'>1.0</span>
        <span class='duration identifier id'>duration</span>    <span class='integer val'>0</span><span class='integer val'>.5</span>
        <span class='amplitude identifier id'>amplitude</span>   <span class='integer val'>1000</span>
        <span class='pitch identifier id'>pitch</span>       <span class='float val'>7.01</span>
        <span class='func_table identifier id'>func_table</span>  <span class='integer val'>1</span>

      <span class='note identifier id'>note</span> <span class='string val'>&quot;2&quot;</span>
        <span class='instrument identifier id'>instrument</span>  <span class='integer val'>2</span>
        <span class='start identifier id'>start</span>       <span class='float val'>2.0</span>
        <span class='duration identifier id'>duration</span>    <span class='float val'>1.0</span>
        <span class='amplitude identifier id'>amplitude</span>   <span class='integer val'>1100</span>
        <span class='pitch identifier id'>pitch</span>       <span class='float val'>7.02</span>
        <span class='func_table identifier id'>func_table</span>  <span class='integer val'>1</span>

  <span class='play identifier id'>play</span>
    <span class='ensembles identifier id'>ensembles</span> <span class='string val'>&quot;Ensemble 100&quot;</span>
</pre>
<p>
More interestingly, instructions can also be assigned to ensembles as well
as individual players. This supports performance directions that are
intended for an entire ensemble to follow. For example, Terry Riley&#8217;s
composition &quot;In C&quot; includes this instruction in the score,
&quot;As an ensemble, it is very desirable to play very softly as well as
very loudly and to try to diminuendo and crescendo together.&quot; Clearly
this requires an instruction that is aware of what all the players in the
ensemble are playing.
</p>
<pre class="code">
  <span class='instruction identifier id'>instruction</span> <span class='string val'>&quot;Ensemble Diminuendo and Crescendo&quot;</span>
    <span class='description identifier id'>description</span> <span class='string val'>&quot;As an ensemble, it is very desirable to play very softly as well as very loudly and to try to diminuendo and crescendo together.&quot;</span>
    <span class='ensembles identifier id'>ensembles</span> <span class='string val'>&quot;In C Orchestra&quot;</span>
</pre>
<p>
Finally, Composer supports the notion of &#8216;improvisation&#8217;
directions in the score and an &#8216;improvise&#8217; statement
instructing players to improvise notes based on that direction.
</p>
<pre class="code">
  <span class='improvisation identifier id'>improvisation</span> <span class='string val'>&quot;Rock out extremely hard&quot;</span>
    <span class='description identifier id'>description</span> <span class='string val'>&quot;Never stop rockin', ever, seriously.  No, really, I mean never, ever.&quot;</span>
    <span class='players identifier id'>players</span> <span class='string val'>&quot;Player 1&quot;</span>

  <span class='improvise identifier id'>improvise</span>
    <span class='players identifier id'>players</span> <span class='string val'>&quot;Player 1&quot;</span>
</pre>
<p>
Again, the implementation of the code that the software players run to
generate their improvised notes is created by a programmer following the
intent of the improvisation&#8217;s &#8216;description&#8217; and remains
hidden from the composer of the score.
</p>
<hr size="10"></hr><p>
Technical and Theoretical Background
</p>
<hr size="10"></hr><p>
This project started with an attempt to render Terry Riley&#8217;s seminal
&quot;In C&quot; in software (code and final rendered output are here:
/compositions/Terry_Riley-In_C). In working on this piece, it struck me how
such aleatoric compositions align very well with a computational model. For
&quot;In C,&quot; for example, Riley composed 53 short musical phrases
which the members of the ensemble work through sequentially. In addition
the score includes a series of instructions from the composer to the
players. The instructions are guidelines and leave room for the players to
make their own choices, reacting to characteristics of a phrase, where they
are in the sequence, and most of all to what they are hearing the rest of
the ensemble play. Aleatoric compositions often follow this approach,
providing some musical material (input) and some instructions (a
prescription that leaves room for interpretation, reaction and
improvisation in the hands of the performers). So one can think of the
ensemble&#8217;s performance as an instance of a computation that processes
input (the notes) directed by an algorithm (the aleatoric rules) to produce
an output (a musical performance, in our case rendered by software and
saved as a sound file).
</p>
<p>
However, in this first attempt , I became frustrated by the idea that all
of the code could be used to perform only this one composition, especially
given how much work it was to interpret, encode and tweak the
composition&#8217;s rules into software. Aleatoric is the response to this
motivation, a general library for creating aleatoric compositions and
software ensembles to perform them.
</p>

      </div>
    </div>
    <div id="yard_info">
  Generated on Sunday, August 16 2009 at  by 
  <abbr class="yard" title="Yay! A Ruby Documentation Tool"><a href="http://yard.soen.ca">YARD</a></abbr> 
  0.2.3.3 (ruby-1.8.6).
</div>

  </body>
</html>